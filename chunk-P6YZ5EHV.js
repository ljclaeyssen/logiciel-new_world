import{a,b as m,c as u,d as c,e as p,f as k,g as d}from"./chunk-QNQJHC2H.js";import{Q as l,ac as t}from"./chunk-RMK55XS2.js";import{a as r,b as n}from"./chunk-7CGTOI24.js";var f=[{id:"incubator",name:"L'incubateur",description:"Effectuez 2 fois l'incubateur en groupe. <br/> N'h\xE9sitez pas \xE0 vous procurer l'amulette de r\xE9sistance au feu obtenable \xE0 la Forge Empyr\xE9enne (3 fois la qu\xEAte journali\xE8re pour la craft au four \xE0 gypse)",refresh:"WEEKLY",loot:[],amount:2},{id:"winter-forge",name:"La Forge de l'hiver",description:"Effectuez 2 fois la forge de l'hiver en groupe.  <br/> N'h\xE9sitez pas \xE0 vous procurer l'amulette de r\xE9sistance au givre obtenable au Lac de Glace (3 fois la qu\xEAte journali\xE8re pour la craft au four \xE0 gypse)",refresh:"WEEKLY",loot:[],amount:2},{id:"gorgon-hive",name:"La Ruche des Gorgones",description:"GL HF",refresh:"WEEKLY",loot:[],amount:1},{id:"devourer",name:"Le D\xE9voreur",description:"Bon courage",refresh:"WEEKLY",loot:[],amount:1},{id:"weekly-wishing-well",name:"Coffre des \xEEles des lames",description:"R\xE9cup\xE9rez votre cl\xE9 en or au puit aux \xEEles des Lames, allez ouvrir le coffre situ\xE9 \xE0 l'entr\xE9e de la zone PVP sauvage. Vous obtiendrez une grosse quantit\xE9 de doublons. Si vous n'avez pas de doublons pour r\xE9cup\xE9rer votre cl\xE9, faites une Elite Chest Run 'CK'",refresh:"WEEKLY",items:[{name:"Coffre ouvert",rarity:"orange"}],illustrationsURI:["assets/ecr/world-view/cutlass.png"]},{id:"weekly-blade-islands",name:"R\xE9cup\xE9rer la noix de coco",description:"Dans la zone PVP sauvage des \xEEles des lames, r\xE9cup\xE9rer une noix de coco dans le gros coffres. Elle vous permettra d'am\xE9liorer des \xE9quipements \xE0 725gs",refresh:"WEEKLY",items:[{name:"Noix de coco",rarity:"purple"}],illustrationsURI:["assets/ecr/world-view/cutlass.png"]}];var v=[{id:"event-melegies-chromatic",name:"R\xE9cup\xE9rer un sceau chromatique aux camps de l'\xE9v\xE8nement",refresh:"WEEKLY",items:[{name:"Sceau Chromatique",amount:1}],eventStartDate:"2025-05-15T23:59:59Z",eventEndDate:"2025-06-15T23:59:59Z"}];var y=f,T=v,b=[...y,...T],L={weeklies:b.map(e=>n(r({},e),{refresh:1})),completions:{}},I=m(k(L),u(e=>({weeklies:t(()=>e.weeklies()),pveTasks:t(()=>e.weeklies().filter(o=>!("items"in o))),purchasableTasks:t(()=>e.weeklies().filter(o=>"items"in o)),eventTasks:t(()=>e.weeklies().filter(o=>"items"in o&&"eventEndDate"in o)),completedTasks:t(()=>e.completions())})),p((e,o=l(d))=>({initializeCompletions(){let s=o.load("weeklyCompletions")||{};console.log("Initial weekly completions loaded:",s),a(e,{completions:s})},completeWeekly(s){let w=new Date().toISOString();a(e,g=>{let i=n(r({},g.completions),{[s]:w});return console.log("Updated weekly completions:",i),o.save("weeklyCompletions",i),{completions:i}})},resetCompletions(){a(e,()=>{let s={};return console.log("Resetting weekly completions:",s),o.save("weeklyCompletions",s),{completions:s}})}})),c({onInit(e){e.initializeCompletions()}}));export{I as a};
