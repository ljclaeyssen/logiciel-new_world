import{a as M}from"./chunk-63ZTZW32.js";import{a as z,b as R,c as D,d as $,e as F,f as w,g as A,h as I,i as O,j as U,k as j,l as V,m as oe}from"./chunk-BYVVWDWO.js";import"./chunk-PQHGSJJA.js";import{D as ne}from"./chunk-C4UXAAAM.js";import"./chunk-M4JAQYG4.js";import"./chunk-QNQJHC2H.js";import{j as L}from"./chunk-FMHSL3JQ.js";import{Ab as Z,Ea as Y,Gb as m,Hb as k,Ia as o,Ib as g,Jb as ee,Mb as te,Ob as ie,Pb as d,Q as f,Rb as u,Ta as S,W as T,X as b,Za as C,ac as h,eb as p,jb as y,kb as H,lb as N,mb as v,nb as x,ob as c,pb as a,qb as B,ub as P,wb as E,xb as l}from"./chunk-RMK55XS2.js";import"./chunk-7CGTOI24.js";var ae=(t,i)=>i.id;function ce(t,i){if(t&1&&(c(0,"span",7),m(1),d(2,"timeRemaining"),a()),t&2){let e=l().$index,n=l().$implicit,r=l(2);o(),g(" ",u(2,1,r.completions()[n.id+"-"+e],n.refresh)," ")}}function le(t,i){if(t&1){let e=P();c(0,"div",5)(1,"p-button",6),d(2,"hasReset"),E("click",function(){let r=T(e).$index,s=l().$implicit,_=l(2);return b(_.completeItem(s.id+"-"+r))}),a(),C(3,ce,3,4,"span",7),d(4,"hasReset"),a()}if(t&2){let e=i.$implicit,n=i.$index,r=l().$implicit,s=l(2);o(),p("label",e.name+(e.amount>1?" ("+e.amount+")":""))("disabled",!u(2,3,s.completions()[r.id+"-"+n],r.refresh)),o(2),y(u(4,6,s.completions()[r.id+"-"+n],r.refresh)?-1:3)}}function se(t,i){if(t&1&&(c(0,"p-accordion-panel",1)(1,"p-accordion-header")(2,"div",2)(3,"div"),m(4),a()()(),c(5,"p-accordion-content")(6,"div",3)(7,"div",4),v(8,le,5,9,"div",5,H),a()()()()),t&2){let e=i.$implicit;p("value",e.id),o(4),k(e.name),o(4),x(e.items)}}function pe(t,i){if(t&1&&(c(0,"p-accordion",0),v(1,se,10,2,"p-accordion-panel",1,ae),a()),t&2){let e=l();p("value",e.openPanels())("multiple",!0),o(),x(e.eventTasks())}}function me(t,i){t&1&&(c(0,"h4"),m(1," Aucune activit\xE9 journali\xE8re d'\xE9v\xE8nement pour le moment. (Si c'est un oubli de ma part merci de me le signaler) "),a())}var G=class t{dailiesStore=f(M);resetTimeService=f(A);openPanelsService=f(U);Rarity=j;completions=this.dailiesStore.completedTasks;eventTasks=h(()=>{let i=z.now();return this.dailiesStore.eventTasks().filter(n=>{let r=z.fromISO(n.eventStartDate),s=z.fromISO(n.eventEndDate);return i>=r&&i<s})});itemsPerTask=h(()=>this.eventTasks().map(i=>i.items.length));openPanels=this.openPanelsService.calculateOpenPanelsComputed(this.eventTasks,this.completions,this.itemsPerTask);completeItem(i){this.dailiesStore.completeDaily(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-daily-event-tasks"]],decls:4,vars:1,consts:[[3,"value","multiple"],[3,"value"],[1,"accordion-header"],[1,"p-4"],[1,"occurrences-container"],[1,"occurrence-item"],["icon","pi pi-check","iconPos","right","size","small",3,"click","label","disabled"],[1,"remaining-time"]],template:function(e,n){e&1&&(c(0,"h2"),m(1,"\xC9v\xE9nements Temporaires"),a(),C(2,pe,3,2,"p-accordion",0)(3,me,2,0,"h4")),e&2&&(o(2),y(n.eventTasks().length?2:3))},dependencies:[F,$,D,R,w,I,O],styles:[".occurrences-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}"]})};var de=t=>({completed:t}),ue=(t,i)=>i.id;function _e(t,i){if(t&1&&B(0,"p",4),t&2){let e=l().$implicit;p("innerHTML",e.description,Y)}}function fe(t,i){if(t&1&&(c(0,"span",11),m(1),d(2,"timeRemaining"),a()),t&2){let e=l().$index,n=l().$implicit,r=l();o(),g(" ",u(2,1,r.completions()[n.id+"-"+(e+1)],n.refresh)," ")}}function Ce(t,i){if(t&1){let e=P();c(0,"div",7)(1,"p-button",10),d(2,"customOccurrenceLabel"),d(3,"hasReset"),E("click",function(){let r=T(e).$index,s=l().$implicit,_=l();return b(_.completeOccurrence(s.id+"-"+(r+1)))}),a(),C(4,fe,3,4,"span",11),d(5,"hasReset"),a()}if(t&2){let e=i.$index,n=l().$implicit,r=l();o(),p("label",u(2,3,n.name,e+1))("disabled",!u(3,6,r.completions()[n.id+"-"+(e+1)],n.refresh)),o(3),y(u(5,9,r.completions()[n.id+"-"+(e+1)],n.refresh)?-1:4)}}function ve(t,i){if(t&1&&B(0,"p-image",9),t&2){let e=i.$implicit;p("src",e)("preview",!0)}}function xe(t,i){if(t&1&&(c(0,"p-accordion-panel",1)(1,"p-accordion-header")(2,"div",2)(3,"div"),m(4),a(),c(5,"div",3),m(6),a()()(),c(7,"p-accordion-content")(8,"div"),C(9,_e,1,1,"p",4),c(10,"div",5)(11,"div",6),v(12,Ce,6,12,"div",7,N),a(),c(14,"div",8),v(15,ve,1,2,"p-image",9,N),a()()()()()),t&2){let e=i.$implicit,n=l();p("value",e.id),o(4),k(e.name),o(),p("ngClass",te(6,de,n.countCompletedOccurrences(e.id,e.amount)===e.amount)),o(),ee(" ",n.countCompletedOccurrences(e.id,e.amount),"/",e.amount," "),o(3),y((e.description||"").length?9:-1),o(3),x(n.Array(e.amount).keys()),o(3),x(e.illustrationsURI)}}var J=class t{dailiesStore=f(M);resetTimeService=f(A);completions=this.dailiesStore.completedTasks;dailyActivities=h(()=>this.dailiesStore.otherTasks().filter(i=>["dng-rand","dng-mut","quest-faction","named-killed"].includes(i.id)));openPanels=h(()=>{let i=this.dailyActivities(),e=this.completions();return i.filter(n=>{for(let r=1;r<=n.amount;r++){let s=`${n.id}-${r}`,_=e[s];if(!_||!this.resetTimeService.isBeforeReset(_,n.refresh))return!0}return!1}).map(n=>n.id)});countCompletedOccurrences(i,e){let n=this.completions(),r=0;for(let s=1;s<=e;s++){let _=`${i}-${s}`,X=n[_];X&&this.resetTimeService.isBeforeReset(X,this.dailyActivities().find(re=>re.id===i).refresh)&&r++}return r}completeOccurrence(i){this.dailiesStore.completeDaily(i)}Array=Array;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-dungeons"]],decls:5,vars:2,consts:[[3,"value","multiple"],[3,"value"],[1,"accordion-header"],[3,"ngClass"],[3,"innerHTML"],[1,"content"],[1,"occurrences-container"],[1,"occurrence-item"],[1,"illustations-container"],["height","200",1,"new-world-border","epic",3,"src","preview"],["icon","pi pi-check","iconPos","right","size","small",3,"click","label","disabled"],[1,"remaining-time"]],template:function(e,n){e&1&&(c(0,"h2"),m(1,"PVE Journalier"),a(),c(2,"p-accordion",0),v(3,xe,17,8,"p-accordion-panel",1,ue),a()),e&2&&(o(2),p("value",n.openPanels())("multiple",!0),o(),x(n.dailyActivities()))},dependencies:[I,O,F,R,D,$,w,oe,L,V],styles:[".occurrences-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.occurrence-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.completed[_ngcontent-%COMP%]{color:#34d399}[_nghost-%COMP%]   .accordion-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:120px 1fr;align-items:center;gap:1rem}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 60%}.illustations-container[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}"]})};var ye=(t,i)=>i.id;function he(t,i){if(t&1&&(c(0,"span",4),m(1),d(2,"timeRemaining"),a()),t&2){let e=l().$implicit,n=l();o(),g(" ",u(2,1,n.completions()[e.id],e.refresh)," ")}}function ge(t,i){if(t&1){let e=P();c(0,"p-button",8),E("click",function(){T(e);let r=l().$implicit,s=l();return b(s.completeRun(r.id))}),a()}}function Te(t,i){if(t&1&&(c(0,"p"),m(1),a()),t&2){let e=l().$implicit;o(),g(" ",e.description," ")}}function be(t,i){if(t&1){let e=P();c(0,"p-accordion-panel",1)(1,"p-accordion-header")(2,"div",2)(3,"div"),m(4),a(),c(5,"p-button",3),E("click",function(r){let s=T(e).$implicit,_=l();return r.stopPropagation(),b(_.copyToClipboard(s.shortname))}),a(),C(6,he,3,4,"span",4),d(7,"hasReset"),C(8,ge,1,0,"p-button",5),a()(),c(9,"p-accordion-content"),C(10,Te,2,1,"p"),c(11,"div",6),B(12,"p-image",7)(13,"p-image",7),a()()()}if(t&2){let e=i.$implicit,n=l();p("value",e.id),o(4),k(e.name),o(),Z("label","+ ",e.shortname,""),p("outlined",!0),o(),y(u(7,11,n.completions()[e.id],e.refresh)?8:6),o(4),y(e.description.length?10:-1),o(2),p("src",e.globalLocalisationMapURI)("preview",!0),o(),p("src",e.regionalLocalisationMapURI)("preview",!0)}}var q=class t{dailiesStore=f(M);messageService=f(ne);openPanelsService=f(U);completions=this.dailiesStore.completedTasks;eliteChestRuns=h(()=>this.dailiesStore.ecrTasks());openPanels=this.openPanelsService.calculateOpenPanelsComputed(this.eliteChestRuns,this.completions);copyToClipboard(i){navigator.clipboard.writeText(`+ ${i}`).then(()=>{this.messageService.add({severity:"info",summary:`+ ${i}`,detail:`"+ ${i}" a \xE9t\xE9 copi\xE9 dans votre presse-papier ! `,life:3e3})})}completeRun(i){this.dailiesStore.completeDaily(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-elite-chest-run"]],decls:5,vars:2,consts:[[3,"value","multiple"],[3,"value"],[1,"accordion-header"],["icon","pi pi-copy","severity","secondary","size","small","iconPos","right",3,"click","outlined","label"],[1,"remaining-time"],["label","Terminer","icon","pi pi-check","iconPos","right","size","small"],[1,"maps-container"],["height","300",1,"new-world-border","legendary",3,"src","preview"],["label","Terminer","icon","pi pi-check","iconPos","right","size","small",3,"click"]],template:function(e,n){e&1&&(c(0,"h2"),m(1,"Elite Chests Runs"),a(),c(2,"p-accordion",0),v(3,be,14,14,"p-accordion-panel",1,ye),a()),e&2&&(o(2),p("value",n.openPanels())("multiple",!0),o(),x(n.eliteChestRuns()))},dependencies:[R,F,D,I,O,$,w,V],styles:["[_nghost-%COMP%]   .accordion-header[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:300px 120px 1fr;align-items:center;gap:1rem}[_nghost-%COMP%]   .maps-container[_ngcontent-%COMP%]{display:flex;gap:3rem}"]})};var Pe=(t,i,e,n)=>({"rarity-green":t,"rarity-blue":i,"rarity-purple":e,"rarity-orange":n}),Ee=(t,i)=>i.id;function Se(t,i){if(t&1&&(c(0,"p"),m(1),a()),t&2){let e=l().$implicit;o(),g(" ",e.description," ")}}function ke(t,i){if(t&1&&(c(0,"span",9),m(1),d(2,"timeRemaining"),a()),t&2){let e=l().$index,n=l().$implicit,r=l();o(),g(" ",u(2,1,r.completions()[n.id+"-"+e],n.refresh)," ")}}function Re(t,i){if(t&1){let e=P();c(0,"div",5)(1,"p-button",8),d(2,"hasReset"),E("click",function(){let r=T(e).$index,s=l().$implicit,_=l();return b(_.completeItem(s.id+"-"+r))}),a(),C(3,ke,3,4,"span",9),d(4,"hasReset"),a()}if(t&2){let e=i.$implicit,n=i.$index,r=l().$implicit,s=l();o(),p("label",e.name)("ngClass",ie(10,Pe,e.rarity===s.Rarity.GREEN,e.rarity===s.Rarity.BLUE,e.rarity===s.Rarity.PURPLE,e.rarity===s.Rarity.ORANGE))("disabled",!u(2,4,s.completions()[r.id+"-"+n],r.refresh)),o(2),y(u(4,7,s.completions()[r.id+"-"+n],r.refresh)?-1:3)}}function De(t,i){if(t&1&&B(0,"p-image",7),t&2){let e=i.$implicit;p("src",e)("preview",!0)}}function $e(t,i){if(t&1&&(c(0,"p-accordion-panel",1)(1,"p-accordion-header")(2,"div",2)(3,"div"),m(4),a()()(),c(5,"p-accordion-content")(6,"div"),C(7,Se,2,1,"p"),c(8,"div",3)(9,"div",4),v(10,Re,5,15,"div",5,H),a(),c(12,"div",6),v(13,De,1,2,"p-image",7,N),a()()()()()),t&2){let e=i.$implicit;p("value",e.id),o(4),k(e.name),o(3),y((e.description||"").length?7:-1),o(3),x(e.items),o(3),x(e.illustrationsURI)}}var K=class t{dailiesStore=f(M);resetTimeService=f(A);Rarity=j;completions=this.dailiesStore.completedTasks;purchasableTasks=h(()=>this.dailiesStore.purchasableTasks());openPanels=h(()=>{let i=this.purchasableTasks(),e=this.completions();return i.filter(n=>{for(let r=0;r<n.items.length;r++){let s=`${n.id}-${r}`,_=e[s];if(!_||!this.resetTimeService.isBeforeReset(_,n.refresh))return!0}return!1}).map(n=>n.id)});completeItem(i){this.dailiesStore.completeDaily(i)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-purchasables"]],decls:5,vars:2,consts:[[3,"value","multiple"],[3,"value"],[1,"accordion-header"],[1,"content"],[1,"occurrences-container"],[1,"occurrence-item"],[1,"illustations-container"],["height","200",1,"new-world-border","epic",3,"src","preview"],["icon","pi pi-check","iconPos","right","size","small",3,"click","label","ngClass","disabled"],[1,"remaining-time"]],template:function(e,n){e&1&&(c(0,"h2"),m(1,"Achats Journaliers"),a(),c(2,"p-accordion",0),v(3,$e,15,3,"p-accordion-panel",1,Ee),a()),e&2&&(o(2),p("value",n.openPanels())("multiple",!0),o(),x(n.purchasableTasks()))},dependencies:[F,R,D,$,I,O,w,L,V],styles:[".occurrences-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.occurrence-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.completed[_ngcontent-%COMP%]{color:#34d399}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% 60%}.illustations-container[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}"]})};var Dt=[{path:"",loadComponent:()=>import("./chunk-NBFKEMSV.js").then(t=>t.DailyContentComponent),children:[{path:"ecr",component:q},{path:"activities",component:J},{path:"purchasables",component:K},{path:"event",component:G},{path:"**",redirectTo:"ecr"}]},{path:"**",redirectTo:"ecr"}];export{Dt as dailyContentRoutes};
